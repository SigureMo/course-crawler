<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>命令行参数 | Course Crawler</title>
    <meta name="generator" content="VuePress 1.5.1">
    
    <meta name="description" content="基于 Python 3 的 MOOC 课程下载工具">
    <link rel="preload" href="/course-crawler/assets/css/0.styles.59eb4bb1.css" as="style"><link rel="preload" href="/course-crawler/assets/js/app.c21c623c.js" as="script"><link rel="preload" href="/course-crawler/assets/js/2.3de8bf3e.js" as="script"><link rel="preload" href="/course-crawler/assets/js/9.14ca95eb.js" as="script"><link rel="preload" href="/course-crawler/assets/js/3.4cedf126.js" as="script"><link rel="preload" href="/course-crawler/assets/js/4.38b2a635.js" as="script"><link rel="prefetch" href="/course-crawler/assets/js/10.d02c6eb9.js"><link rel="prefetch" href="/course-crawler/assets/js/11.05482237.js"><link rel="prefetch" href="/course-crawler/assets/js/12.02341da6.js"><link rel="prefetch" href="/course-crawler/assets/js/13.6893dc93.js"><link rel="prefetch" href="/course-crawler/assets/js/14.8eca1d25.js"><link rel="prefetch" href="/course-crawler/assets/js/15.9e3ba422.js"><link rel="prefetch" href="/course-crawler/assets/js/16.d66d412b.js"><link rel="prefetch" href="/course-crawler/assets/js/17.8f573a16.js"><link rel="prefetch" href="/course-crawler/assets/js/18.69bb14dd.js"><link rel="prefetch" href="/course-crawler/assets/js/19.0f24f8a1.js"><link rel="prefetch" href="/course-crawler/assets/js/20.85070b31.js"><link rel="prefetch" href="/course-crawler/assets/js/21.f03247f7.js"><link rel="prefetch" href="/course-crawler/assets/js/5.cf3d44ef.js"><link rel="prefetch" href="/course-crawler/assets/js/6.797666ff.js"><link rel="prefetch" href="/course-crawler/assets/js/7.8030a46c.js"><link rel="prefetch" href="/course-crawler/assets/js/8.3e8516d5.js">
    <link rel="stylesheet" href="/course-crawler/assets/css/0.styles.59eb4bb1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/course-crawler/" class="home-link router-link-active"><!----> <span class="site-name">Course Crawler</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/course-crawler/" class="nav-link">
  指南
</a></div><div class="nav-item"><a href="/course-crawler/courses/icourse163.html" class="nav-link">
  分类
</a></div><div class="nav-item"><a href="/course-crawler/advance/cli.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  进阶
</a></div> <a href="https://github.com/SigureMo/course-crawler" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/course-crawler/" class="nav-link">
  指南
</a></div><div class="nav-item"><a href="/course-crawler/courses/icourse163.html" class="nav-link">
  分类
</a></div><div class="nav-item"><a href="/course-crawler/advance/cli.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  进阶
</a></div> <a href="https://github.com/SigureMo/course-crawler" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/course-crawler/advance/cli.html" aria-current="page" class="active sidebar-link">命令行参数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/course-crawler/advance/cli.html#显示帮助信息" class="sidebar-link">显示帮助信息</a></li><li class="sidebar-sub-header"><a href="/course-crawler/advance/cli.html#指定下载目录" class="sidebar-link">指定下载目录</a></li><li class="sidebar-sub-header"><a href="/course-crawler/advance/cli.html#重新录入-cookies" class="sidebar-link">重新录入 Cookies</a></li><li class="sidebar-sub-header"><a href="/course-crawler/advance/cli.html#指定视频清晰度" class="sidebar-link">指定视频清晰度</a></li><li class="sidebar-sub-header"><a href="/course-crawler/advance/cli.html#强制覆盖已下载文件" class="sidebar-link">强制覆盖已下载文件</a></li><li class="sidebar-sub-header"><a href="/course-crawler/advance/cli.html#aria2-的调用" class="sidebar-link">aria2 的调用</a></li><li class="sidebar-sub-header"><a href="/course-crawler/advance/cli.html#播放列表设置" class="sidebar-link">播放列表设置</a></li><li class="sidebar-sub-header"><a href="/course-crawler/advance/cli.html#不下载" class="sidebar-link">不下载 ...</a></li><li class="sidebar-sub-header"><a href="/course-crawler/advance/cli.html#修正视频-文档名" class="sidebar-link">修正视频/文档名</a></li></ul></li><li><a href="/course-crawler/advance/patch.html" class="sidebar-link">修改默认值</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="命令行参数"><a href="#命令行参数" class="header-anchor">#</a> 命令行参数</h1> <div data-v-858daec8><iframe src="//player.bilibili.com/player.html?high_quality=1&amp;aid=65418448&amp;cid=113566361&amp;page=2" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="allowfullscreen" data-v-858daec8></iframe></div> <h2 id="显示帮助信息"><a href="#显示帮助信息" class="header-anchor">#</a> 显示帮助信息</h2> <blockquote><p><code>-h</code> <code>--help</code> 用于显示帮助信息。</p></blockquote> <p>输入 <code>python mooc.py -h</code> 或 <code>python mooc.py --help</code>。</p> <h2 id="指定下载目录"><a href="#指定下载目录" class="header-anchor">#</a> 指定下载目录</h2> <blockquote><p><code>-d &lt;path&gt;</code> <code>--dir=&lt;path&gt;</code> 用于指定下载目录为 <code>&lt;path&gt;</code>。</p></blockquote> <p>课程文件夹将在创建在 <code>&lt;path&gt;</code> 中。默认创建在当前目录，即 <code>-d &quot;&quot;</code>。</p> <p>示例</p> <div class="language-bash extra-class"><pre class="language-bash"><code>python mooc.py -d <span class="token string">&quot;G:\MOOCs&quot;</span> https://www.icourse163.org/course/TONGJI-53004
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p><code>&lt;path&gt;</code> 不能以 \ 结尾；当 <code>&lt;path&gt;</code> 存在空格的时候，必须使用 <code>&quot;</code> 将路径包裹起来。</p></div> <h2 id="重新录入-cookies"><a href="#重新录入-cookies" class="header-anchor">#</a> 重新录入 Cookies</h2> <blockquote><p><code>-c</code> <code>--restore-cookies</code> 用于在程序运行时录入新的 Cookies，以覆盖旧的 Cookies</p></blockquote> <p>由于 Cookies 经常存在过期的情况，手动去删除会很麻烦，这时只需要运行时加上这样一个参数就可以将旧的 Cookies 覆盖掉</p> <h2 id="指定视频清晰度"><a href="#指定视频清晰度" class="header-anchor">#</a> 指定视频清晰度</h2> <blockquote><p><code>-r &lt;quality&gt;</code> <code>--quality &lt;quality&gt;</code> 用于指定视频清晰度为 <code>&lt;quality&gt;</code></p></blockquote> <p><code>&lt;quality&gt;</code> 可选列表为 <code>shd</code> <code>hd</code> <code>sd</code> ，分别对应超高清、高清、标清，默认为超高清</p> <p>示例</p> <div class="language-bash extra-class"><pre class="language-bash"><code>python mooc.py -r hd https://www.icourse163.org/course/TONGJI-53004
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>在支持清晰度调节的课程中，如果指定的清晰度不存在，则先自动降低清晰度，若仍无匹配的清晰度，则后升高清晰度，比如指定为 hd ，则会以 hd sd shd 序列对清晰度进行匹配</p></div> <h2 id="强制覆盖已下载文件"><a href="#强制覆盖已下载文件" class="header-anchor">#</a> 强制覆盖已下载文件 <span class="badge error" style="vertical-align:top;" data-v-15b7b770>danger</span></h2> <blockquote><p><code>-w</code>, <code>--overwrite</code> 用于启用强制覆盖已经下载过的文件</p></blockquote> <p>示例</p> <div class="language-bash extra-class"><pre class="language-bash"><code>python mooc.py https://www.icourse163.org/course/TONGJI-53004 -w
</code></pre></div><h2 id="aria2-的调用"><a href="#aria2-的调用" class="header-anchor">#</a> aria2 的调用 <span class="badge warn" style="vertical-align:top;" data-v-15b7b770>beta</span></h2> <p>为了方便后续视频的下载，增加了直接调用 <code>aria2</code> 进行下载的支持</p> <div class="custom-block tip"><p class="custom-block-title">aria2 相关下载：</p> <ul><li><a href="https://github.com/aria2/aria2/releases" target="_blank" rel="noopener noreferrer">aria2<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/ziahamza/webui-aria2/archive/master.zip" target="_blank" rel="noopener noreferrer">aria2 webui<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/mayswind/AriaNg/releases" target="_blank" rel="noopener noreferrer">AriaNg（一个比较好看的 webui）<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <blockquote><p><code>--aria2</code> 用于启用 <code>aria2</code> 直接下载视频</p></blockquote> <p>当配置好 aria2 路径后，在课件解析完成时程序不退出，直接调用 <code>aria2</code> 下载视频</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>请事先确保 <code>aria2c</code> 已经是可执行程序，即已经添加到环境变量</p></div> <p>示例</p> <div class="language-bash extra-class"><pre class="language-bash"><code>python mooc.py --aria2 https://www.icourse163.org/course/TONGJI-53004
</code></pre></div><h2 id="播放列表设置"><a href="#播放列表设置" class="header-anchor">#</a> 播放列表设置</h2> <p>由于不同播放器对播放列表格式的要求并不相同，通过修改参数可以获得更通用的播放列表</p> <div class="custom-block tip"><p class="custom-block-title">一些推荐的播放器</p> <ul><li>Windows
<ul><li>PotPlayer</li></ul></li> <li>Linux
<ul><li>SMPlayer</li></ul></li> <li>MacOS
<ul><li>IINA</li></ul></li></ul></div> <h3 id="播放列表类型"><a href="#播放列表类型" class="header-anchor">#</a> 播放列表类型</h3> <blockquote><p><code>--playlist-type=&lt;playlist_type&gt;</code> 用于指定播放列表类型</p></blockquote> <p>可选列表 <code>dpl</code> <code>m3u</code> <code>no</code> ，默认为 <code>dpl</code> ，若指定 <code>no</code> 则不生成播放列表</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>默认生成的 <code>Playlist.dpl</code> 仅仅对 PotPlayer 有效，如果无法使用 PotPlayer （比如 Linux 下），请生成更通用的 <code>m3u</code> 格式</p></div> <p>示例</p> <div class="language-bash extra-class"><pre class="language-bash"><code>python mooc.py --playlist-type<span class="token operator">=</span>m3u https://www.icourse163.org/course/TONGJI-53004
</code></pre></div><h3 id="播放列表路径类型"><a href="#播放列表路径类型" class="header-anchor">#</a> 播放列表路径类型</h3> <blockquote><p><code>--abs-path</code> 用于指定播放列表内的路径为绝对路径</p></blockquote> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>有些播放器并不支持相对路径的播放列表，如果你的播放器无法打开该文件，请尝试生成绝对路径的播放列表</p></div> <p>示例</p> <div class="language-bash extra-class"><pre class="language-bash"><code>python mooc.py --playlist-type<span class="token operator">=</span>m3u --abs-path https://www.icourse163.org/course/TONGJI-53004
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>绝对路径的播放列表会在课程文件夹移动后失效，如果开启该选项，请不要在课程下载后进行移动</p></div> <h2 id="不下载"><a href="#不下载" class="header-anchor">#</a> 不下载 ...</h2> <h3 id="不下载文档"><a href="#不下载文档" class="header-anchor">#</a> 不下载文档</h3> <blockquote><p><code>--no-doc</code> 用于阻止下载 PDF、Word、PowerPoint 等文档。</p></blockquote> <p>默认会下载所有文档。</p> <p>当指定了这个选项之后，不会下载任何文档（包括 PPT 和书籍等）。</p> <p>示例</p> <div class="language-bash extra-class"><pre class="language-bash"><code>python mooc.py https://www.icourse163.org/course/TONGJI-53004 --no-doc
</code></pre></div><h3 id="不下载字幕"><a href="#不下载字幕" class="header-anchor">#</a> 不下载字幕</h3> <blockquote><p><code>--no-sub</code> 用于阻止下载字幕。</p></blockquote> <h3 id="不下载富文本"><a href="#不下载富文本" class="header-anchor">#</a> 不下载富文本</h3> <blockquote><p><code>--no-text</code> 用于阻止下载富文本。</p></blockquote> <h3 id="不下载附件"><a href="#不下载附件" class="header-anchor">#</a> 不下载附件</h3> <blockquote><p><code>--no-file</code> 用于阻止下载附件。</p></blockquote> <h3 id="不下载播放列表"><a href="#不下载播放列表" class="header-anchor">#</a> 不下载播放列表</h3> <blockquote><p><code>--playlist-type=no</code> 用于阻止下载播放列表。详情见 <a href="#%E6%92%AD%E6%94%BE%E5%88%97%E8%A1%A8%E7%B1%BB%E5%9E%8B">播放列表类型</a></p></blockquote> <h2 id="修正视频-文档名"><a href="#修正视频-文档名" class="header-anchor">#</a> 修正视频/文档名</h2> <blockquote><p><code>--inter</code> 用于修改文件名。</p></blockquote> <p>会调出文件编辑器，编辑好视频的名字之后保存。默认没有启用。</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>请严格按照原来文本长度进行设置，否则可能会发生没有标题的情况。</p></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/SigureMo/course-crawler/edit/master/docs/advance/cli.md" target="_blank" rel="noopener noreferrer">在GitHub上编辑此页！</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">6/11/2020, 8:02:49 AM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/course-crawler/advance/patch.html">
        修改默认值
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/course-crawler/assets/js/app.c21c623c.js" defer></script><script src="/course-crawler/assets/js/2.3de8bf3e.js" defer></script><script src="/course-crawler/assets/js/9.14ca95eb.js" defer></script><script src="/course-crawler/assets/js/3.4cedf126.js" defer></script><script src="/course-crawler/assets/js/4.38b2a635.js" defer></script>
  </body>
</html>
